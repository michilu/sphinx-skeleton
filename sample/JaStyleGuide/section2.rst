第2章

----------------
メッセージの翻訳
----------------

この章には、メッセージの翻訳に関する注意事項を記載します。

注意－
  ここに記載している内容は、標準的な規則です。実際の翻訳の手順については、
  各プロジェクトの担当者から指示を受けてください。

ファイルの種類
==============

この節では、次の種類のメッセージまたはヘルプについて説明します。

- .po
- .msg
- .tmsg
- .java
- .properties
- オンラインヘルプ

  - .html
  - \*.hs
  - \*MAP.jhm
  - .help、.hlp
  - 拡張子なし

翻訳を行う際の注意事項
======================

各メッセージファイル形式に共通
------------------------------

- 翻訳対象外の文字列

  変数: 現在の文字列ではなく、別のメッセージの文字列に置換して表示されるもの
  で、次のようなものがあります。

  ::

    %s (文字列)、%c (文字)、%d (10 進数) など

  次に例を示します。 ::

    msgid   "There was an error launching the help viewer : %s"
    msgstr  "ヘルプを表示する際にエラーが発生しました : %s"

  上記のメッセージファイルの記述は、実際のソフトウェアでの表示は次のようにな
  ります。

  ::

    ヘルプを表示する際にエラーが発生しました : ファイルを読み込めませんでした。

- 変数の扱い

  日本語メッセージでも、変数の順番が英語と同じになるようにする必要がありま
  す。

  変数の順番を変えなければ日本語にできない場合は、変数の順番を示す数値を指
  定します。英文メッセージの順で前から 1、2、3... と番号を付与し、次のように
  1$、2$， 3$ ... と記述します。

  次に例を示します。 ::

    msgid   "Checking uninstalled directory format package <%s> from <%s>\n"
    msgstr  "<%2$s> からアンインストールされたディレクトリ形式パッケージ <%1$s> を
    検査中です。\n"

  複数の種類の変数が使用されている場合も、番号は変数の種類に関わらず英語での
  順番に則って付与します。

  ::

    msgid  "%s specifies more components (%d) than the "
                "maximum number requested (%d).\n"
    (誤) msgstr  "%s は要求された最大数 (%2$d) よりも多い"
                       "コンポーネント (%1$d) を指定しています。\n"
    (正) msgstr "%1$s は要求された最大数 (%3$d) よりも多い"
                       "コンポーネント (%2$d) を指定しています。\n"

  変数には .1f などもあります。s、d、f などの種類や .1 などの有無にかかわらず、番
  号を付与します。

  ::

    msgid   "%.1f GB partition on %.1f GB disk (%s)"
    msgstr  "%2$.1f GB ディスク (%3$s) 上の %1$.1f GB パーティション"

- 既存の翻訳にある問題

  英語で変更があったメッセージのほかに、誤訳や不適切な表現が見つかってそれ
  を修正したい場合は、勝手に修正せずにあらかじめ Sun の担当者に確認してくだ
  さい。

.po ファイル
------------

必要な作業
^^^^^^^^^^

変更があった
msgid の行に対応する msgstr の行を日本語に翻訳する必要がありま
す。

::

  msgid "There was an error launching the help viewer : %s"
  msgstr "ヘルプを表示中にエラーが発生しました : %s"

コメントアウト行
^^^^^^^^^^^^^^^^

行頭に # がある行は、メッセージとして認識されないコメント行です。次の例の
#NEW_Message は、このメッセージが新規メッセージであることを示すために記述
されているコメントで、翻訳対象ではありません。

::

  # NEW_Message
  msgid "There was an error launching the help viewer : %s"
  msgstr "ヘルプを表示中にエラーが発生しました : %s"

エスケープシーケンス
^^^^^^^^^^^^^^^^^^^^

バックスラッシュ \ でエスケープします。

二重引用符 " をエスケープする場合
use \"ab2admin -o start\" to....  のよ
うにします。

::

  msgid Use \"ab2admin -o start\" to invoke ab2admin application
  msgstr ab2admin アプリケーションを起動するには \"ab2admin -o start\" を使用してく
  ださい

.msg ファイル
-------------

必要な作業
^^^^^^^^^^

英語メッセージを、翻訳した日本語メッセージに置き換えます。 メッセージ番号と
メッセージ文字列との間に必ず半角スペースを 1 つ入力してください。

次に例を示します。 ::

  3  スーパーユーザーのパスワードを入力してください。\n

改行
^^^^

メッセージを複数行に改行するには、
\n を入力します。

次に例を示します。 ::

  Msgid ""
  "The images necessary to run the wireless monitor are missing.\n"
  "Please make sure that it is correctly installed."
   msgstr ""
  "ワイヤレスモニターの実行に必要な画像がありません。\n"
  "正しくインストールされているか確認してください。"

コメントアウト行
^^^^^^^^^^^^^^^^

行頭に $ がある行は、メッセージとして認識されないコメント行です。

次に例を示します。 ::

  $ This is a comment for a translator

.tmsg ファイル
--------------

必要な作業
^^^^^^^^^^

英語メッセージを、翻訳した日本語メッセージに置き換えます。 メッセージ ID 番
号とメッセージ文字列との間に必ず半角スペースを 1 つ入力してください。 　

次に例を示します。 ::

  \n32134  root で admintool を起動

改行
^^^^

メッセージを複数行に改行するには、
\\\n\ を入力します。

次に例を示します。 ::

  32400  このアイコンは、ブロック型特殊ファイルを表しています。\\\n\
  データ型は BLOCK_DEVICE です。

コメントアウト行
^^^^^^^^^^^^^^^^

行頭に $ がある行は、メッセージとして認識されないコメント行です。

CDE メッセージの .tmsg ファイル
-------------------------------

- dt/appconfig/types/C/\*.dt.tmsg

  各
  .tmsg ファイル中の共通部分が _common.dt.tmsg に含まれています。
  更新対象は、
  _common.dt.tmsg ファイル 1 つだけです。

- dt/app-defaults/C/\*.dt.tmsg

  _common.dt.tmsg に含まれていないものもあります (エンジニアから指示を受け
  る)

- \*.dt.nls

  翻訳対象外

.java ファイル
--------------

必要な作業
^^^^^^^^^^

- { "MsgID" , "Message xxxxxxxxx" },  の Message xxxxxxxxxx の部分を日本語メッ
  セージに翻訳してください。

  次に例を示します。 ::

    { "Exit-Message", "Are you sure you want to end this program ?},
               ↓
    {"Exit-Message", "本当にこのプログラムを終了しますか ?"},

- ファイル名と、各クラス名に _ja を付けます。

  たとえば
  AddressSyncConduitMessages.java の場合は、 ファイル名を
  AddressSyncConduitMessages_ja.java にします。また、ファイル内の行を次の
  ように修正します。

  修正前:
    public class AddressSyncConduitMessages extends
    ListResourceBundle
  修正後:
    public class AddressSyncConduitMessages_ja extends
    ListResourceBundle

改行
^^^^

メッセージを複数行に改行するには、+ を入力します。

次に例を示します。 ::

  { "MSG8", "製品が正しく動作するためには"  +
  " システムをリブートする必要があります。 " +
  " ここでリブートしますか ?"},

コメントアウト行
^^^^^^^^^^^^^^^^

行頭に // がある行、または先頭 /** と末尾 \*/ で囲まれている行は、メッセージとし
て認識されないコメント行です。

.properties ファイル
--------------------

必要な作業
^^^^^^^^^^

tag=messages の "messages" 部分を日本語メッセージに翻訳してください。

次に例を示します。 ::

  : init_view_explain=Choose what to display for this first time request.
                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
                                ここを翻訳↑

改行
^^^^

メッセージを複数行に改行するには、
\n を入力します。

コメントアウト行
^^^^^^^^^^^^^^^^

行頭に
# がある行は、メッセージとして認識されないコメント行です。

ヘルプファイル
--------------

必要な作業
^^^^^^^^^^

英語の文章を翻訳した日本語文章に置き換えてください。

.html ファイル
--------------

meta タグの中の charset を Sun から指示のあったエンコーディングに合わせて修
正してください。たとえば、EUC エンコーディングにするよう指示があった場合は、
次の
iso-8859-1 の部分を euc-jp にしてください。

::

  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
                                                    ~~~~~~~~
                                      ここを euc-jp にする↑

hs、*MAP.jhm、*TOC.xml ファイル
-------------------------------

.html ファイルと共に、*.hs、*MAP.jhm、*TOC.xml ファイルが含まれていること
があります。

- \*.hs

  先頭行 <?xml version=‘1.0’ encoding=‘ISO-8859-1’ ?> を
  <?xml version=‘1.0’ encoding=‘EUC-JP’ ?> にしてください。

- \*MAP.jhm

  先頭行 <?xml version= ‘1.0’ encoding=‘ISO-8859-1’ ?> を
  <?xml version= ‘1.0’ encoding=‘EUC-JP’ ?> にしてください。

- \*TOC.xml

  先頭行 <?xml version= ‘1.0 ‘ encoding=‘ISO-8859-1’ ?> を
  <?xml version=‘1.0’ encoding=‘EUC-JP’ ?> にしてください。

.help、.hlp ファイル
--------------------

行末をそろえてください (1 行の文字数を半角 50 文字くらいにする)。

topics/TOPICS ファイル
----------------------

ファイル名の行の先頭に、スペースではなくタブで空白を入力してください。 そう
しないと、実際にヘルプを表示する時にトピックスとして認識されません。

次に例を示します。 ::

  DNS 検索リスト
  (TAB) dns_searchdomains.help
  DNS サーバー
  (TAB) dns_server.help

拡張子なしファイル
------------------

行末をそろえます (1 行の文字数を半角 28 文字くらいにする)。

翻訳の方針と注意事項
====================

- メッセージは短く簡潔に訳します。
- 英数字は半角を使用します。
- 半角と全角の間には、半角スペースを１個入れます。
- 括弧は、次のように使用します。

  _(ＸＸＸ)_ などのようにスペース->括弧->文字列->括弧->スペースとします。

- コロン (: ) は、次のように使用します。

  - コロン (: ) のうしろに予期しない文字列が使用される場合があるため、基本的
    には訳さずそのまま残します。

::

  You cannot change the date:
  日付を変更することはできません:

- 英語が文字とコロンの間にスペースがある場合でも、日本語はスペースを入れ
  ません。

::

  Open the file : %s
  ファイルを開く: %s

- 句点は「。」を、読点は「、」を使用します。
- 英文に疑問符 (?) が使用されている場合、日本語でも疑問符 (?) を使用します。た
  だし、感嘆符 (!) は使用しません。

::

  Are you sure you want to quite ?
  本当に終了しますか ?

::

  Password you entered is invalid ! Please enter valid password.
  入力したパスワードは無効です。有効なパスワードを入力してください。

- 句点の有無は、英文と同じにします。そのほかの表記記号も、できるだけ英語と
  同じものを使用します。

::

  Cannot lock database - too many retries.
  データベースをロックできません - 再試行が多すぎます。

- 「です・ます」調を原則とします。( 文字の長さを考慮する必要があるのであれば
  体言止め)
- 名詞のみの文章はそのまま名詞の文とします。

  "1 line"  --> "1 行"

- ユーザーに y/n を選択させる場合

  ::

    rm: Remove %s: (y/n)?
    rm: %s を消去します: (y/n) ?

  上記のように y または n の選択を促す表現にします。

- 基本的には同じ英語の単語は、同じ日本語に訳すようにします。
- 時制に忠実に訳します。

::

  "Could not open document '%s'."
  (誤)　 "ドキュメント '%s' を開くことができません。"
                ↓
  (正)　 "ドキュメント '%s' を開くことができませんでした。"

- 全角の波ダッシュ (～) は使用しません。範囲を表す場合は半角のハイフン (-) を
  使用します。

  ::

    Can be <tt>1</tt>-<tt>65535</tt>
    (誤)　 <tt>1</tt>～<tt>65535</tt> を指定できます。
                 ↓
    (正)　 <tt>1</tt> - <tt>65535</tt> を指定できます。

  注－
    メッセージでは、全角の波ダッシュ (～) を使用すると、文字化けしたり問題が発
    生したりすることがあります。

- 引用符号「”」、「 ’」が使われている場合は、英語のまま使用します。

::

  "Could not open document '%s'."
  (誤)　 "ドキュメント「%s」を開くことができませんでした。"
               ↓
  (正)　 "ドキュメント '%s' を開くことができませんでした。"

- GB や MB などの単位の表記は G バイト、M バイトとしないで、英語のまま使用
  します。

  - これは、使用する文字のスペースを原文とできるだけ近くする必要がある、と
    いうメッセージ固有の必要性からです。

::

  #english: {0, number,###.#} GB
  572={0, number,###.#} GB
  msgid="MB"
  msgstr="MB"

- アプリケーションの UI のショートカットに関する記述

  アプリケーションの UI のショートカットが下線「_」で示されることがあります。
  ショートカットについては次のように記述します。

::

  文頭に下線がある場合の例:
  msgid   "_Accept"
  msgstr  "同意する(_A)"
  文頭に下線がある場合の例:
  msgid   "Select _All"
  msgstr  "すべてを選択する(_A)"

- 翻訳の表現を統一します。

  - Run Commnad (コマンドの実行)

  注－
    「コマンドを実行」とすると、用途によっては不適切になる可能性があるので、こ
    のような場合は「を」とせずに「の」を採用します。

    -  ～ ing (～しています)
    -  Failed to (～に失敗しました)
    -  Error ～ ing (～中にエラーが発生しました、～しているときにエラーが発生
       しました)
    -  Parameter is not valid (パラメータが有効ではありません)
    -  invalid parameter (無効なパラメータです)
    -  illegal parameter (不正なパラメータです)

- 改行について

  注－
    英文にはない改行が日本語翻訳で追加されると、ビルドエラーが起きる可能性が
    あります。ただし Java ファイルの場合はビルドエラーが起きず、表示が崩れたまま
    製品となってお客様の目に触れる可能性があるため注意してください。

  - ファイルを見やすくするために改行する場合は、次のいずれかの記号を追加し
    ます。ソフトウェア上では改行は入りません。

    - .po ファイル

      ::

        msgid "msg_key"
        msgstr "[了解] をクリックすると、"
        "[転送]に設定されます。 "

    - .msg/.tmsg ファイル

      ::

        1 [了解] をクリックすると、\
        [転送]に設定されます。

    - .java ファイル

      ::

        {"msg_key",
        "[了解] をクリックすると、" +
        "[転送]に設定されます。 "
        }

    - .properties ファイル

      ::

        msg_key=[了解] をクリックすると、\
        [転送]に設定されます。

  - ソフトウェア上に改行を入れる場合は \n を追加します。下記の例では、ソフト
    ウェア上では「クリックすると、」のあとで改行されます (各メッセージファイ
    ル形式に共通)。

    ::

      [了解] をクリックすると、\n [転送]に設定されます。

- ソフトウェア上の改行と、ファイルを見やすくするための改行を同じ位置に入
  れる場合は、次のように \n と記号を追加します。下記の例では、ソフトウェア
  上では「クリックすると、」のあとで改行されます。

  - .po ファイル

    ::

      msgid "msg_key"
      msgstr "[了解] をクリックすると、\n"
      "[転送]に設定されます。 "

  - .msg/.tmsg ファイル

    ::

      1 [了解] をクリックすると、\n\
      [転送]に設定されます。

  - .java ファイル

    ::

      {"msg_key",
      "[了解] をクリックすると、\n" +
      "[転送]に設定されます。 "
      }

  - .properties ファイル

    ::

      msgid "msg_key"
      msgstr "[了解] をクリックすると、\n"
      "[転送]に設定されます。 "

- ソフトウェア上の改行と、ファイルを見やすくするための改行を異なる位置に
  入れる場合は、下記のように \n と記号を追加します。下記の例では、ソフトウェ
  ア上では「クリックすると、」のあとで改行されます。

  - .po ファイル

    ::

      msgid "msg_key"
      msgstr "[了解] をクリックすると、\n[転送]に"
      "設定されます。 "

  - .msg/.tmsg ファイル

    ::

      1 [了解] をクリックすると、\n[転送]に\
      設定されます。

  - .java ファイル

    ::

      {"msg_key",
      "[了解] をクリックすると、\n[転送]に" +
      "設定されます。 "
      }

  - .properties ファイル

    ::

      msg_key=[了解] をクリックすると、\n[転送]に\
      設定されます。

- 英文の語順に問題がある場合は
  同じメッセージ内に、目的となる語が存在しないメッセージを翻訳しなければなら
  ない場合があります。通常、%s のような変数を使用して、別のメッセージから流用
  されるように設定されていますが、まれに、英文の問題から、メッセージが前置詞
  や動詞で終わってしまっているケースがあります。

  翻訳方法の工夫で回避できる場合は、次のようにしてください。

  ::

    msgid “Too many arguments for -”
    (誤)　msgstr "- の引数が多すぎます"
            ↓
    (正)　msgstr "引数が多すぎます - "

  回避できない場合は、そのとおりに翻訳して、コメントを挿入したり、別ファイル
  で報告するなどして、TPM/Language Lead に知らせてください。

  ::

    msgid “You cannot”
    msgstr "あなたはできません"
    #@trans: 英文が不完全なため、適切に翻訳できません
